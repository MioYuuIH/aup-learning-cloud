# --- Release Title and Tag Templates ---
# Use curly braces ${} for better variable resolution safety
name-template: 'v${major}.${minor}.${patch}-rc.${number} Pre-release ğŸ—ï¸'
tag-template: 'v${major}.${minor}.${patch}-rc.${number}'

# --- Pre-release Logic ---
# Marks the release as "Pre-release" in the GitHub UI
prerelease: true

# This is the most stable way to define the version string
version-template: '${major}.${minor}.${patch}-rc.${number}'

# --- Version Increment Rules ---
# Determines whether to bump Major, Minor, or Patch based on PR Labels
version-resolver:
  major:
    labels:
      - 'major'
      - 'breaking-change'
  minor:
    labels:
      - 'feature'
      - 'enhancement'
  patch:
    labels:
      - 'bug'
      - 'fix'
      - 'security'
  default: patch

# --- Release Notes Categorization ---
# Organizes the PRs into sections in the release notes
categories:
  - title: 'ğŸš€ New Features'
    labels:
      - 'feature'
      - 'enhancement'
  - title: 'ğŸ› Bug Fixes'
    labels:
      - 'bug'
      - 'fix'
  - title: 'ğŸ›¡ï¸ Security'
    labels:
      - 'security'
  - title: 'ğŸ§° Maintenance & Infrastructure'
    labels:
      - 'chore'
      - 'ci'
      - 'documentation'

# --- Cleanup ---
# PRs with these labels will be ignored in the release notes
exclude-labels:
  - 'skip-release'
  - 'duplicate'

# --- Release Body Template ---
template: |
  ## What's Changed in this Pre-release
  $CHANGES

  ***
  **Full Changelog**: $REPOSITORY_URL/compare/$PREVIOUS_TAG...$NEXT_TAG
